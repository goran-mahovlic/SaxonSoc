
## [Xyloni](https://github.com/Efinix-Inc/xyloni) ##

![xyloni](https://user-images.githubusercontent.com/26599790/172009205-4fb53bf2-fd0e-4e8a-a237-dc30ee2922d7.jpg)

### A Saxon SoC ver 0.3 implementation for Xyloni

### List of some killer features
- Dual Port RAM
- Fifo
- 16 bit External Pipeline Bus
- SPI bus writing to [DAC](https://www.analog.com/en/products/ltc2634.html) from on chip RAM

### Other Takeaways
- SoC and user logic are segregated such as to generate two verilog output files. This eases developement effort
- Charles' code using the full power of Scala is formidable to a hardware engineer. This implementation uses a flat hierarchy and hence hardware engineer friendly
- Creating an SoC will now be more easy and powerful
- The lack of a _Platform Designer_ like tool is no more to worry. __SaxonSoC__ is here to your rescue

## Repository structure for this board

```
- hardware/scala/saxon/board/efnix/xyoni : contains SpinalHDL files for user logic and SoC

- software/efinix/xyloni
  - bsp/include : soc.h is generated by SpinalHDL and contains complete address map for the VexRiscV application
  - bsp/linker  : the linker directive. Contains information like RAM size, reset address
  - src         : Contains the C source files for the VexRiscV application
  - build       : Binaries from the VexRiscV application generated by RiscV C compiler. e.g riscv-none-embed-gcc.exe
  - z_etc       : Configuration/setup files for OpenOCD
  - makefile    : Makefile for this project
  
- software/standalone/common
  - riscv64-unknown-elf.mk  : You may set compilation flags here
  - standalone.mk           : The lowest makefile which calls the compiler tools
  
- hardware/synthesis/efinix/xyloni
  - /           : Efinity project file
  - a_verilog   : SpinalHDL generated verilog and Ram initialisation files.
  - ip          : Efinix IP used in this project
```

### How to start
#### Pre-requisites
- You should already be running Xyloni and OpenOCD on it. Refer this [video turtorial](https://youtu.be/dIEofQYBnDA) and also the wonderful resources at Efinix on [Xyloni](https://github.com/Efinix-Inc/xyloni)
- [Install and run SpinalHdl](https://spinalhdl.github.io/SpinalDoc-RTD/master/SpinalHDL/Getting%20Started/getting_started.html)
#### SaxonSoc Specific
1. __Build RiscV application          :__ From _Eclipse_ build the RiscV application and generate the .hex file that is required by SpinalHDL to compile SaxsonSoC
2. __Generate SaxonSoc and User Logic :__ Using _SBT_ generate the verilog and Ram init files. These will be generated inside hardware/synthesis/efinix/xyloni/a_verilog. Also soc.h will be generated inside software/efinix/xyloni/bsp/include
3. __Compile RTL and get bit-stream   :__ Using _Efinity_ do a synthesis, place and route and generate bit-stream
4. __Configure FPGA                   :__ Program the FPGA via JTAG or SPI using the Efinity _Programmer_

_That is it. Your are done_

5. __Update RAM via OpenOCD           :__ Make changes in your RiscV application. Compile and directly download to FPGA RAM in seconds using _Eclipse_ debugger

### Walk-through video
https://user-images.githubusercontent.com/26599790/173418505-982c1bbf-cf92-4569-ad3f-5bf9f264dbe6.mp4


[See Full video on Youtube](https://youtu.be/1He6hJiiHUY)


Ravi Ganesh





